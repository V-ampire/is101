(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"0c72":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-snackbar",{attrs:{color:"error",top:""},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[r("v-btn",e._b({attrs:{color:"error","x-small":"",fab:""},on:{click:function(t){return e.close()}}},"v-btn",a,!1),[r("v-icon",{attrs:{color:"white"}},[e._v("fa-times")])],1)]}}]),model:{value:e.showAlert,callback:function(t){e.showAlert=t},expression:"showAlert"}},[e._v(" "+e._s(e.message)+" ")])},n=[],s=r("6aa7"),i=r("f719"),o={mixins:[i["a"]],mounted:function(){s["a"].onErrorEvent(this.open)}},c=o,l=r("2877"),u=r("6544"),d=r.n(u),f=r("8336"),p=r("132d"),v=r("2db4"),m=Object(l["a"])(c,a,n,!1,null,null,null);t["a"]=m.exports;d()(m,{VBtn:f["a"],VIcon:p["a"],VSnackbar:v["a"]})},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},"1db6":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("StatusForm",{attrs:{currentStatus:e.employeeStatus},on:{onToArchive:function(t){return e.toArchve()},onToWork:function(t){return e.toWork()}}})},n=[],s=(r("96cf"),r("1da1")),i=r("a287"),o=r("6aa7"),c=r("fc9d"),l=r("6847"),u={components:{StatusForm:c["a"]},props:{companyUuid:String,branchUuid:String,employeeUuid:String,employeeStatus:String},data:function(){return{}},computed:{api:function(){return Object(i["f"])(this.companyUuid,this.branchUuid)}},methods:{toArchve:function(){var e=this,t="Вы действительно хотите перевести в архив работника?\n      В этом случае учетная запись работника будет заблокирована.",r={message:t};o["a"].onConfirmAction(r,function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=12;break}return t.prev=1,t.next=4,e.api.toArchive(e.employeeUuid,!0);case 4:t.next=10;break;case 6:throw t.prev=6,t.t0=t["catch"](1),o["a"].showErrorAlert(t.t0.message),t.t0;case 10:o["a"].showSuccessEvent("Работник переведен в архив. Доступ ограничен."),e.$emit(l["e"]);case 12:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}())},toWork:function(){var e=this,t={message:"Вы действительно хотите вернуть работника в работу?"};o["a"].onConfirmAction(t,function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=12;break}return t.prev=1,t.next=4,e.api.toWork(e.employeeUuid);case 4:t.next=10;break;case 6:throw t.prev=6,t.t0=t["catch"](1),o["a"].showErrorAlert(t.t0.message),t.t0;case 10:o["a"].showSuccessEvent("Работник в работе. Доступ разрешен."),e.$emit(l["e"]);case 12:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}())}}},d=u,f=r("2877"),p=Object(f["a"])(d,a,n,!1,null,null,null);t["a"]=p.exports},"1e2c":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ListTable",{attrs:{headers:e.headers,items:e.items,search:e.search},on:{onToArchiveItem:e.toArchiveEmployee,onToWorkItem:e.toWorkEmployee,onDeleteItem:e.deleteEmployee},scopedSlots:e._u([{key:"itemLink",fn:function(t){var a=t.item;return[r("div",{staticClass:"detail-link body-2"},[r("router-link",{attrs:{to:{name:"EmployeeDetail",params:{companyUuid:e.companyUuid,branchUuid:e.branchUuid,employeeUuid:a.uuid}}}},[e._v(e._s(a.linkText))])],1)]}}])})},n=[],s=(r("96cf"),r("1da1")),i=r("b85c"),o=r("f414"),c=r("6aa7"),l=r("da39"),u=r("ddc2"),d=r("a287"),f={mixins:[l["a"]],components:{ListTable:u["a"]},props:{search:String,employeeList:Array,companyUuid:String,branchUuid:String},data:function(){return{headers:[{text:"ФИО",value:"linkText"},{text:"Должность",value:"position"},{text:"Статус",value:"status"},{text:"Действия",value:"actions",sortable:!1}]}},computed:{api:function(){return Object(d["f"])(this.companyUuid,this.branchUuid)},items:function(){var e,t=[],r=Object(i["a"])(this.employeeList);try{for(r.s();!(e=r.n()).done;){var a=e.value;t.push({linkText:a.fio,position:a.position.title,status:o["a"][a.status],uuid:a.uuid})}}catch(n){r.e(n)}finally{r.f()}return t}},methods:{toArchiveEmployee:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a="Вы действительно хотите перевести работника в архив?",n={message:a},c["a"].onConfirmAction(n,function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(a){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!a){r.next=12;break}return r.prev=1,r.next=4,t.api.toArchive(e.uuid,!0);case 4:r.next=10;break;case 6:throw r.prev=6,r.t0=r["catch"](1),c["a"].showErrorAlert(r.t0.message),r.t0;case 10:c["a"].showSuccessEvent("Работник переведен в архив. Учетная запись отключена."),t.$emit("onReload");case 12:case"end":return r.stop()}}),r,null,[[1,6]])})));return function(e){return r.apply(this,arguments)}}());case 3:case"end":return r.stop()}}),r)})))()},toWorkEmployee:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a={message:"Вы действительно хотите вернуть работника в работу?"},c["a"].onConfirmAction(a,function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(a){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!a){r.next=12;break}return r.prev=1,r.next=4,t.api.toWork(e.uuid);case 4:r.next=10;break;case 6:throw r.prev=6,r.t0=r["catch"](1),c["a"].showErrorAlert(r.t0.message),r.t0;case 10:c["a"].showSuccessEvent("Работник в работе."),t.$emit("onReload");case 12:case"end":return r.stop()}}),r,null,[[1,6]])})));return function(e){return r.apply(this,arguments)}}());case 2:case"end":return r.stop()}}),r)})))()},deleteEmployee:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a={message:"Вы действительно хотите удалить работника ".concat(e.fio,"?")},c["a"].onConfirmAction(a,function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(a){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!a){r.next=12;break}return r.prev=1,r.next=4,t.api.delete(e.uuid);case 4:r.next=10;break;case 6:throw r.prev=6,r.t0=r["catch"](1),c["a"].showErrorAlert(r.t0.message),r.t0;case 10:c["a"].showSuccessEvent("Работник удален!"),t.$emit("onReload");case 12:case"end":return r.stop()}}),r,null,[[1,6]])})));return function(e){return r.apply(this,arguments)}}());case 2:case"end":return r.stop()}}),r)})))()}}},p=f,v=r("2877"),m=Object(v["a"])(p,a,n,!1,null,null,null);t["a"]=m.exports},2:function(e,t){},"29b8":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form"},[r("div",{staticClass:"form-fields d-flex flex-column mb-3"},[r("div",{staticClass:"username-field"},[r("div",{staticClass:"username-field-label subtitle-2 mb-2"},[e._v("Логин для входа в систему")]),r("div",{staticClass:"username-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.username.errors,rules:[e.rules.min],label:"Логин",name:"username",counter:""},model:{value:e.fields.username.value,callback:function(t){e.$set(e.fields.username,"value",t)},expression:"fields.username.value"}})],1)]),r("div",{staticClass:"email-field"},[r("div",{staticClass:"email-field-label subtitle-2 mb-2"},[e._v("E-mail")]),r("div",{staticClass:"email-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.email.errors,rules:[e.rules.emailMatch],label:"Имеил",name:"email",counter:""},model:{value:e.fields.email.value,callback:function(t){e.$set(e.fields.email,"value",t)},expression:"fields.email.value"}})],1)])]),r("div",{staticClass:"form-btn mb-3"},[r("FormButton",{attrs:{label:"Обновить информацию",inProgress:e.inProgress},on:{onAction:function(t){return e.update()}}})],1)])},n=[],s=(r("b64b"),r("96cf"),r("1da1")),i=r("5e4e"),o=r("aadc"),c=r("bf83"),l=r("4069"),u=r("6847"),d=r("6aa7"),f=r("c167"),p={mixins:[i["a"],o["a"]],components:{FormButton:l["a"]},props:{accountUuid:String},data:function(){return{fields:{username:{value:"",errors:[]},email:{value:"",errors:[]}},rules:{min:c["a"].minLength(6,"Минимальная длина 6 символов."),emailMatch:c["a"].emailMatch("Не валидный имеил.")},inProgress:!1}},methods:{update:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.validate()){t.next=17;break}return e.inProgress=!0,r=e.getAsFormData(),t.prev=3,t.next=6,e.api.update(e.accountUuid,r);case 6:t.next=12;break;case 8:if(t.prev=8,t.t0=t["catch"](3),t.t0 instanceof f["b"])for(a=0,n=Object.keys(t.t0.data);a<n.length;a++)s=n[a],e.setErrorMessages(s,t.t0.data[s]);else d["a"].showErrorAlert(t.t0.message);throw t.t0;case 12:return t.prev=12,e.inProgress=!1,t.finish(12);case 15:d["a"].showSuccessEvent("Данные обновлены."),e.$emit(u["e"]);case 17:case"end":return t.stop()}}),t,null,[[3,8,12,15]])})))()}}},v=p,m=r("2877"),h=r("6544"),b=r.n(h),g=r("4bd4"),w=r("8654"),x=Object(m["a"])(v,a,n,!1,null,null,null);t["a"]=x.exports;b()(x,{VForm:g["a"],VTextField:w["a"]})},"2ef5":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form"},[r("div",{staticClass:"title-field d-flex flex-column mb-3"},[r("div",{staticClass:"title-field-label subtitle-2 mb-2"},[e._v("Название компании")]),r("div",{staticClass:"title-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.title.errors,label:"Название компании"},model:{value:e.fields.title.value,callback:function(t){e.$set(e.fields.title,"value",t)},expression:"fields.title.value"}})],1)]),r("div",{staticClass:"logo-field d-flex flex-column"},[r("div",{staticClass:"logo-field-label subtitle-2 mb-2"},[e._v(" Логотип компании ")]),e.fields.logo.value?r("div",{staticClass:"logo-field-preview"},[r("v-img",{attrs:{src:e.fields.logo.value,"max-height":"280"}})],1):e._e(),r("div",{staticClass:"logo-field-input"},[r("v-file-input",{attrs:{"prepend-icon":"fa-camera","error-messages":e.fields.logo.errors,accept:".jpeg, .jpg, .png"},model:{value:e.fields.logo.value,callback:function(t){e.$set(e.fields.logo,"value",t)},expression:"fields.logo.value"}}),r("div",{staticClass:"logo-field-input-help caption"},[e._v(" Изображение должно быть в формате 'jpeg', 'jpg' или 'png' ")])],1)]),r("div",{staticClass:"tagline-field d-flex flex-column mb-3"},[r("div",{staticClass:"tagline-field-label subtitle-2 mb-2"},[e._v("Слоган компании")]),r("div",{staticClass:"tagline-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.tagline.errors,label:"Слоган компании"},model:{value:e.fields.tagline.value,callback:function(t){e.$set(e.fields.tagline,"value",t)},expression:"fields.tagline.value"}})],1)]),r("div",{staticClass:"inn-field d-flex flex-column mb-3"},[r("div",{staticClass:"inn-field-label subtitle-2 mb-2"},[e._v("ИНН компании")]),r("div",{staticClass:"inn-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.inn.errors,label:"ИНН компании"},model:{value:e.fields.inn.value,callback:function(t){e.$set(e.fields.inn,"value",t)},expression:"fields.inn.value"}})],1)]),r("div",{staticClass:"ogrn-field d-flex flex-column mb-3"},[r("div",{staticClass:"ogrn-field-label subtitle-2 mb-2"},[e._v("ОГРН\\ОГРНИП компании")]),r("div",{staticClass:"ogrn-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.ogrn.errors,label:"ОГРН\\ОГРНИП компании"},model:{value:e.fields.ogrn.value,callback:function(t){e.$set(e.fields.ogrn,"value",t)},expression:"fields.ogrn.value"}})],1)]),r("div",{staticClass:"city-field d-flex flex-column mb-3"},[r("div",{staticClass:"city-field-label subtitle-2 mb-2"},[e._v("Город")]),r("div",{staticClass:"city-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.city.errors,label:"Город"},model:{value:e.fields.city.value,callback:function(t){e.$set(e.fields.city,"value",t)},expression:"fields.city.value"}})],1)]),r("div",{staticClass:"address-field d-flex flex-column mb-3"},[r("div",{staticClass:"address-field-label subtitle-2 mb-2"},[e._v("Адрес, без города")]),r("div",{staticClass:"address-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.address.errors,label:"Адрес, без города"},model:{value:e.fields.address.value,callback:function(t){e.$set(e.fields.address,"value",t)},expression:"fields.address.value"}})],1)]),r("div",{staticClass:"phone-field d-flex flex-column mb-3"},[r("div",{staticClass:"phone-field-label subtitle-2 mb-2"},[e._v("Телефон")]),r("div",{staticClass:"phone-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.phone.errors,label:"Телефон"},model:{value:e.fields.phone.value,callback:function(t){e.$set(e.fields.phone,"value",t)},expression:"fields.phone.value"}})],1)]),r("div",{staticClass:"form-btn"},[r("FormButton",{attrs:{inProgress:e.inProgress,label:"Обновить информацию"},on:{onAction:function(t){return e.updateCompanyInfo()}}})],1)])},n=[],s=(r("b64b"),r("96cf"),r("1da1")),i=r("bf83"),o=r("5e4e"),c=r("a287"),l=r("6aa7"),u=r("c167"),d=r("4069"),f={mixins:[o["a"]],components:{FormButton:d["a"]},data:function(){return{fields:{title:{value:"",errors:[]},logo:{value:"",errors:[]},tagline:{value:"",errors:[]},inn:{value:"",errors:[]},ogrn:{value:"",errors:[]},city:{value:"",errors:[]},address:{value:"",errors:[]},phone:{value:"",errors:[]}},rules:{required:i["a"].required("Обязательное поле.")},inProgress:!1}},props:{companyUuid:String},computed:{api:function(){return Object(c["c"])()}},methods:{updateCompanyInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.validate()){t.next=16;break}return e.inProgress=!0,r=e.getAsFormData(),t.prev=3,t.next=6,e.api.update(e.companyUuid,r);case 6:t.next=12;break;case 8:if(t.prev=8,t.t0=t["catch"](3),t.t0 instanceof u["b"])for(a=0,n=Object.keys(t.t0.data);a<n.length;a++)s=n[a],e.setErrorMessages(s,t.t0.data[s]);else l["a"].showErrorAlert(t.t0.message);throw t.t0;case 12:return t.prev=12,e.inProgress=!1,t.finish(12);case 15:l["a"].showSuccessEvent("Данные изменены!");case 16:case"end":return t.stop()}}),t,null,[[3,8,12,15]])})))()},cleanFields:function(e){return e.logo instanceof File||delete e.logo,e}}},p=f,v=r("2877"),m=r("6544"),h=r.n(m),b=r("23a7"),g=r("4bd4"),w=r("adda"),x=r("8654"),k=Object(v["a"])(p,a,n,!1,null,null,null);t["a"]=k.exports;h()(k,{VFileInput:b["a"],VForm:g["a"],VImg:w["a"],VTextField:x["a"]})},"2fd8":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"isActive-field"},[r("div",{staticClass:"isActive-field-label subtitle-2"},[e._v("Доступ в систему:")]),r("div",{staticClass:"isActive-field-switch"},[r("v-switch",{attrs:{label:e.isActive?"Доступ разрешен":"Доступ ограничен"},on:{change:e.changeSwitch},scopedSlots:e._u([{key:"label",fn:function(){return[e.inProgress?r("span",[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):e.isActive?r("span",{staticClass:"green--text ml-2"},[r("v-icon",{attrs:{color:"green"}},[e._v("fa-check-circle")]),e._v(" Доступ разрешен ")],1):r("span",{staticClass:"red--text ml-2"},[r("v-icon",{attrs:{color:"red"}},[e._v("fa-times-circle")]),e._v(" Доступ ограничен ")],1)]},proxy:!0}]),model:{value:e.isActive,callback:function(t){e.isActive=t},expression:"isActive"}})],1)])},n=[],s=(r("96cf"),r("1da1")),i=r("aadc"),o=r("6847"),c=r("6aa7"),l={mixins:[i["a"]],props:{isActive:Boolean,accountUuid:String,inProgress:{type:Boolean,default:!1}},methods:{changeSwitch:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.inProgress=!0,t.prev=1,!e.isActive){t.next=7;break}return t.next=5,e.api.activate(e.accountUuid);case 5:t.next=9;break;case 7:return t.next=9,e.api.deactivate(e.accountUuid);case 9:t.next=15;break;case 11:throw t.prev=11,t.t0=t["catch"](1),c["a"].showErrorAlert(t.t0.message),t.t0;case 15:return t.prev=15,e.inProgress=!1,e.$emit(o["e"]),t.finish(15);case 19:case"end":return t.stop()}}),t,null,[[1,11,15,19]])})))()}}},u=l,d=r("2877"),f=r("6544"),p=r.n(f),v=r("132d"),m=r("490a"),h=r("b73d"),b=Object(d["a"])(u,a,n,!1,null,null,null);t["a"]=b.exports;p()(b,{VIcon:v["a"],VProgressCircular:m["a"],VSwitch:h["a"]})},3:function(e,t){},3724:function(e,t,r){"use strict";r("b64b"),r("96cf");var a=r("1da1"),n=r("5e4e"),s=r("6aa7"),i=r("c167"),o=r("6847");t["a"]={mixins:[n["a"]],data:function(){return{successHtml:null,inProgress:!1}},methods:{create:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,a,n,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.inProgress=!0,!e.validate()){t.next=18;break}return a=e.getAsFormData(),t.prev=3,t.next=6,e.api.create(a);case 6:r=t.sent,t.next=13;break;case 9:if(t.prev=9,t.t0=t["catch"](3),t.t0 instanceof i["b"])for(n=0,c=Object.keys(t.t0.data);n<c.length;n++)l=c[n],e.setErrorMessages(l,t.t0.data[l]);else s["a"].showErrorAlert(t.t0.message);throw t.t0;case 13:return t.prev=13,e.inProgress=!1,t.finish(13);case 16:e.afterCreate(r.data),e.$emit(o["e"]);case 18:case"end":return t.stop()}}),t,null,[[3,9,13,16]])})))()},afterCreate:function(e){return e},reset:function(){this.$refs.form.reset(),this.successHtml=null}}}},4:function(e,t){},"402c":function(e,t,r){"use strict";var a=r("2b0e"),n=r("f309");a["a"].use(n["a"]),t["a"]=new n["a"]({icons:{iconfont:"fa"}})},4069:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-btn",{attrs:{small:"",block:"",disabled:e.inProgress,color:"primary"},on:{click:function(t){return e.performAction()}}},[e._v(" "+e._s(e.label)+" ")]),e.inProgress?r("v-progress-linear",{attrs:{indeterminate:""}}):e._e()],1)},n=[],s={props:{label:String,inProgress:{type:Boolean,default:!1}},methods:{performAction:function(){this.$emit("onAction")}}},i=s,o=r("2877"),c=r("6544"),l=r.n(c),u=r("8336"),d=r("8e36"),f=Object(o["a"])(i,a,n,!1,null,null,null);t["a"]=f.exports;l()(f,{VBtn:u["a"],VProgressLinear:d["a"]})},4190:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form"},[r("div",{staticClass:"d-flex flex-column form-fields"},[r("div",{staticClass:"password1-field"},[r("v-text-field",{attrs:{"error-messages":e.fields.password1.errors,"append-icon":e.showPassword?"fa-eye":"fa-eye-slash",rules:[e.rules.required,e.rules.min,e.rules.passwordMatch],type:e.showPassword?"text":"password",name:"password1",hint:"At least 8 characters",label:"Пароль",counter:""},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.fields.password1.value,callback:function(t){e.$set(e.fields.password1,"value",t)},expression:"fields.password1.value"}})],1),r("div",{staticClass:"password2-field"},[r("v-text-field",{attrs:{"error-messages":e.fields.password2.errors,"append-icon":e.showPassword?"fa-eye":"fa-eye-slash",rules:[e.rules.required,e.rules.min,e.rules.passwordMatch,e.checkPassword2],type:e.showPassword?"text":"password",name:"password2",hint:"At least 8 characters",label:"Подтвердите пароль",counter:""},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.fields.password2.value,callback:function(t){e.$set(e.fields.password2,"value",t)},expression:"fields.password2.value"}})],1),r("div",{staticClass:"form-btn"},[r("div",{staticClass:"form-btn-change mb-3"},[r("FormButton",{attrs:{label:"Изменить пароль",inProgress:e.inProgress},on:{onAction:function(t){return e.changePassword()}}})],1),r("div",{staticClass:"form-btn-generate"},[r("v-btn",{attrs:{small:"",block:"",color:"primary"},on:{click:function(t){return e.genSafePassword()}}},[e._v("Создать надежный пароль ")])],1)])])])},n=[],s=(r("b64b"),r("96cf"),r("1da1")),i=r("bf83"),o=r("e7e0"),c=r("5e4e"),l=r("aadc"),u=r("4069"),d=r("6aa7"),f=r("c167"),p={mixins:[c["a"],l["a"]],components:{FormButton:u["a"]},props:{accountUuid:String},data:function(){return{fields:{password1:{value:"",errors:[]},password2:{value:"",errors:[]}},showPassword:!1,inProgress:!1,rules:{required:i["a"].required("Обязательное поле."),min:i["a"].minLength(6,"Минимальная длина 6 символов."),passwordMatch:i["a"].regexpMatch(/(?=.*[0-9])(?=.*[a-zA-Z])/,"Пароль должен содержать цифры и буквы.")}}},methods:{changePassword:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.validate()){t.next=17;break}return e.inProgress=!0,r=e.getAsFormData(),t.prev=3,t.next=6,e.api.changePassword(e.accountUuid,r);case 6:t.next=12;break;case 8:if(t.prev=8,t.t0=t["catch"](3),t.t0 instanceof f["b"])for(a=0,n=Object.keys(t.t0.data);a<n.length;a++)s=n[a],e.setErrorMessages(s,t.t0.data[s]);else d["a"].showErrorAlert(t.t0.message);throw t.t0;case 12:return t.prev=12,e.inProgress=!1,t.finish(12);case 15:e.showPassword=!1,d["a"].showSuccessEvent("Пароль изменен!");case 17:case"end":return t.stop()}}),t,null,[[3,8,12,15]])})))()},genSafePassword:function(){var e=Object(o["a"])();this.fields.password1.value=e,this.showPassword=!0},checkPassword2:function(e){var t="Пароли не совпадают.",r=this.fields.password1.value;return r===e||t}}},v=p,m=r("2877"),h=r("6544"),b=r.n(h),g=r("8336"),w=r("4bd4"),x=r("8654"),k=Object(m["a"])(v,a,n,!1,null,null,null);t["a"]=k.exports;b()(k,{VBtn:g["a"],VForm:w["a"],VTextField:x["a"]})},5:function(e,t){},5191:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{style:{zIndex:e.options.zIndex},attrs:{"max-width":e.options.width},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel(t)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:e.options.color,dense:"",flat:""}},[r("v-toolbar-title",{staticClass:"text-body-2 font-weight-bold grey--text"},[e._v(" "+e._s(e.title)+" ")])],1),r("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!e.message,expression:"!!message"}],staticClass:"pa-4 black--text",domProps:{innerHTML:e._s(e.message)}}),r("v-card-actions",{staticClass:"pt-3"},[r("v-spacer"),e.options.noconfirm?e._e():r("v-btn",{staticClass:"body-2 font-weight-bold",attrs:{color:"grey",text:""},nativeOn:{click:function(t){return e.cancel(t)}}},[e._v("Отмена")]),r("v-btn",{staticClass:"body-2 font-weight-bold",attrs:{color:"primary",outlined:""},nativeOn:{click:function(t){return e.agree(t)}}},[e._v("OK")])],1)],1)],1)},n=[],s=(r("d3b7"),r("96cf"),r("1da1")),i=r("6aa7"),o={data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,defautlTitle:"Подтвердите действие",options:{color:"grey lighten-3",width:400,zIndex:200,noconfirm:!1}}},mounted:function(){i["a"].onOpenConfirmAction(this.open)},methods:{getConfirmResult:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){e.resolve=t,e.reject=r})));case 1:case"end":return t.stop()}}),t)})))()},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1},open:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.title=e.title?e.title:t.defautlTitle,t.message=e.message,t.options=Object.assign(t.options,e.options),t.dialog=!0,r.next=6,t.getConfirmResult();case 6:a=r.sent,i["a"].confirmAction(a);case 8:case"end":return r.stop()}}),r)})))()}}},c=o,l=r("2877"),u=r("6544"),d=r.n(u),f=r("8336"),p=r("b0af"),v=r("99d9"),m=r("169a"),h=r("2fa4"),b=r("71d9"),g=r("2a7f"),w=Object(l["a"])(c,a,n,!1,null,null,null);t["a"]=w.exports;d()(w,{VBtn:f["a"],VCard:p["a"],VCardActions:v["a"],VCardText:v["c"],VDialog:m["a"],VSpacer:h["a"],VToolbar:b["a"],VToolbarTitle:g["a"]})},"5c4d":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-snackbar",{attrs:{color:"success",top:""},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[r("v-btn",e._b({attrs:{color:"success","x-small":"",fab:""},on:{click:function(t){return e.close()}}},"v-btn",a,!1),[r("v-icon",{attrs:{color:"white"}},[e._v("fa-times")])],1)]}}]),model:{value:e.showAlert,callback:function(t){e.showAlert=t},expression:"showAlert"}},[e._v(" "+e._s(e.message)+" ")])},n=[],s=r("6aa7"),i=r("f719"),o={mixins:[i["a"]],mounted:function(){s["a"].onSuccessEvent(this.open)}},c=o,l=r("2877"),u=r("6544"),d=r.n(u),f=r("8336"),p=r("132d"),v=r("2db4"),m=Object(l["a"])(c,a,n,!1,null,null,null);t["a"]=m.exports;d()(m,{VBtn:f["a"],VIcon:p["a"],VSnackbar:v["a"]})},"5d3f":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form"},[r("div",{staticClass:"form-fields d-flex flex-column mb-3"},[r("div",{staticClass:"username-field"},[r("div",{staticClass:"username-field-label subtitle-2 mb-2"},[e._v("Логин для входа в систему")]),r("div",{staticClass:"username-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.username.errors,rules:[e.rules.required,e.rules.min],label:"Логин",name:"username",counter:""},model:{value:e.fields.username.value,callback:function(t){e.$set(e.fields.username,"value",t)},expression:"fields.username.value"}})],1)]),r("div",{staticClass:"email-field"},[r("div",{staticClass:"email-field-label subtitle-2 mb-2"},[e._v("E-mail")]),r("div",{staticClass:"email-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.email.errors,rules:[e.rules.required,e.rules.emailMatch],label:"Имеил",name:"email",counter:""},model:{value:e.fields.email.value,callback:function(t){e.$set(e.fields.email,"value",t)},expression:"fields.email.value"}})],1)]),r("div",{staticClass:"password-field"},[r("div",{staticClass:"password-field-label subtitle-2 mb-2"},[e._v("Пароль")]),r("div",{staticClass:"password-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.password.errors,"append-icon":e.showPassword?"fa-eye":"fa-eye-slash",rules:[e.rules.required,e.rules.min,e.rules.passwordMatch],type:e.showPassword?"text":"password",name:"password",hint:"Минимум 8 символов",label:"Пароль",counter:""},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.fields.password.value,callback:function(t){e.$set(e.fields.password,"value",t)},expression:"fields.password.value"}})],1),r("div",{staticClass:"password-field-btn-generate"},[r("v-btn",{attrs:{"x-small":"",block:"",color:"primary"},on:{click:function(t){return e.genSafePassword()}}},[e._v("Создать надежный пароль ")])],1)]),r("div",{staticClass:"fio-field"},[r("div",{staticClass:"fio-field-label subtitle-2 mb-2"},[e._v("ФИО работника")]),r("div",{staticClass:"fio-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.fio.errors,rules:[e.rules.required],label:"ФИО работника",name:"fio",counter:""},model:{value:e.fields.fio.value,callback:function(t){e.$set(e.fields.fio,"value",t)},expression:"fields.fio.value"}})],1)]),r("div",{staticClass:"position-field"},[r("div",{staticClass:"position-field-label subtitle-2 mb-2"},[e._v("Должность")]),r("div",{staticClass:"position-field-input"},[r("v-select",{attrs:{"error-messages":e.fields.position.errors,items:e.positionItems,"item-text":"title","item-value":"uuid"},model:{value:e.fields.position.value,callback:function(t){e.$set(e.fields.position,"value",t)},expression:"fields.position.value"}})],1)]),r("div",{staticClass:"date_of_birth-field"},[r("div",{staticClass:"date_of_birth-field-label subtitle-2 mb-2"},[e._v("Дата рождения")]),r("div",{staticClass:"date_of_birth-field-input"},[r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[r("v-text-field",e._g(e._b({attrs:{"error-messages":e.fields.date_of_birth.errors,label:"Дата рождения","prepend-icon":"fa-calendar",readonly:""},model:{value:e.fields.date_of_birth.value,callback:function(t){e.$set(e.fields.date_of_birth,"value",t)},expression:"fields.date_of_birth.value"}},"v-text-field",n,!1),a))]}}]),model:{value:e.dateOfBirthMenu,callback:function(t){e.dateOfBirthMenu=t},expression:"dateOfBirthMenu"}},[r("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.fields.date_of_birth.value,callback:function(t){e.$set(e.fields.date_of_birth,"value",t)},expression:"fields.date_of_birth.value"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Закрыть ")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.date)}}},[e._v(" OK ")])],1)],1)],1)]),r("div",{staticClass:"pasport-field"},[r("div",{staticClass:"pasport-field-label subtitle-2 mb-2"},[e._v("Паспортные данные")]),r("div",{staticClass:"pasport-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.pasport.errors,rules:[e.rules.required],label:"Паспортные данные",name:"pasport",counter:""},model:{value:e.fields.pasport.value,callback:function(t){e.$set(e.fields.pasport,"value",t)},expression:"fields.pasport.value"}})],1)]),r("div",{staticClass:"pasport_scan-field"},[r("div",{staticClass:"pasport_scan-field-label subtitle-2 mb-2"},[e._v("Скан паспорта")]),r("div",{staticClass:"pasport_scan-field-input"},[r("v-file-input",{attrs:{"error-messages":e.fields.pasport_scan.errors,accept:".jpeg, .jpg, .pdf, .zip",label:"Скан паспорта",name:"pasport_scan",rules:[e.rules.required]},model:{value:e.fields.pasport_scan.value,callback:function(t){e.$set(e.fields.pasport_scan,"value",t)},expression:"fields.pasport_scan.value"}})],1)])]),r("div",{staticClass:"form-btn mb-3"},[r("FormButton",{attrs:{label:"Создать работника",inProgress:e.inProgress},on:{onAction:function(t){return e.create()}}})],1),r("div",{staticClass:"form-message"},[e.successHtml?r("v-alert",{attrs:{dense:"",text:"",type:"success"},domProps:{innerHTML:e._s(e.successHtml)}}):e._e()],1)])},n=[],s=(r("99af"),r("96cf"),r("1da1")),i=r("b85c"),o=r("3724"),c=r("6aa7"),l=r("bf83"),u=r("a287"),d=r("4069"),f=r("e7e0"),p={mixins:[o["a"]],components:{FormButton:d["a"]},props:{companyUuid:String,branchUuid:String},data:function(){return{fields:{username:{value:"",errors:[]},password:{value:"",errors:[]},email:{value:"",errors:[]},fio:{value:"",errors:[]},position:{value:"",errors:[]},date_of_birth:{value:"",errors:[]},pasport:{value:"",errors:[]},pasport_scan:{value:"",errors:[]}},rules:{required:l["a"].required("Обязательное поле."),emailMatch:l["a"].emailMatch("Не валидный имеил."),passwordMatch:l["a"].regexpMatch(/(?=.*[0-9])(?=.*[a-zA-Z])/,"Пароль должен содержать цифры и буквы."),min:l["a"].minLength(6,"Минимальная длина 6 символов.")},showPassword:!1,positionList:[],dateOfBirthMenu:!1}},computed:{api:function(){return Object(u["f"])(this.companyUuid,this.branchUuid)},positionItems:function(){var e,t=[],r=Object(i["a"])(this.positionList);try{for(r.s();!(e=r.n()).done;){var a=e.value;t.push({title:a.title,uuid:a.uuid})}}catch(n){r.e(n)}finally{r.f()}return t}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getPositions();case 2:e.positionList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{getPositions:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["g"])().list("works");case 3:t=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e["catch"](0),c["a"].showErrorAlert(e.t0.message),e.t0;case 10:if(!Array.isArray(t.data)){e.next=14;break}return e.abrupt("return",t.data);case 14:r="Не удалось загрузить список должностей.",c["a"].showErrorAlert(r),console.log("Не удалось загрузить список должностей. Получен ответ ".concat(t));case 17:case"end":return e.stop()}}),e,null,[[0,6]])})))()},afterCreate:function(e){var t=this.$router.resolve({name:"EmployeeDetail",params:{companyUuid:this.companyUuid,branchUuid:this.branchUuid,employeeUuid:e.uuid}});this.successHtml='\n        Работник <a href="'.concat(t.href,'">').concat(e.fio,"</a> успешно создан.")},genSafePassword:function(){var e=Object(f["a"])();this.fields.password.value=e,this.showPassword=!0}}},v=p,m=r("2877"),h=r("6544"),b=r.n(h),g=r("0798"),w=r("8336"),x=r("2e4b"),k=r("23a7"),y=r("4bd4"),_=r("e449"),C=r("b974"),O=r("2fa4"),j=r("8654"),A=Object(m["a"])(v,a,n,!1,null,null,null);t["a"]=A.exports;b()(A,{VAlert:g["a"],VBtn:w["a"],VDatePicker:x["a"],VFileInput:k["a"],VForm:y["a"],VMenu:_["a"],VSelect:C["a"],VSpacer:O["a"],VTextField:j["a"]})},"5e4e":function(e,t,r){"use strict";r("b64b");var a=r("b85c");t["a"]={data:function(){return{fields:null,initialData:null}},methods:{getAsFormData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new FormData,r=this.cleanFields(this._getFormFields(e));for(var a in r)t.append(a,r[a]);return t},getAsObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.cleanFields(this._getFormFields(e))},setErrorMessages:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.fields[e].errors=t},setInitial:function(e){if(this.initialData=e,this.initialData)for(var t in e)t in this.fields&&(this.fields[t].value=e[t])},validate:function(){return this.$refs.form.validate()},reset:function(){return this.$refs.form.reset()},cleanFields:function(e){return e},_getFormFields:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r={},n=t.length>0?t:Object.keys(this.fields),s=Object(a["a"])(n);try{for(s.s();!(e=s.n()).done;){var i=e.value;r[i]=this.fields[i].value}}catch(o){s.e(o)}finally{s.f()}return r}}}},6:function(e,t){},6676:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form"},[r("div",{staticClass:"form-fields d-flex flex-column mb-3"},[r("div",{staticClass:"city-field"},[r("div",{staticClass:"city-field-label subtitle-2 mb-2"},[e._v("Город")]),r("div",{staticClass:"city-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.city.errors,rules:[e.rules.required],label:"Город",name:"city",counter:""},model:{value:e.fields.city.value,callback:function(t){e.$set(e.fields.city,"value",t)},expression:"fields.city.value"}})],1)]),r("div",{staticClass:"address-field"},[r("div",{staticClass:"address-field-label subtitle-2 mb-2"},[e._v("Адрес филиала, без города")]),r("div",{staticClass:"address-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.address.errors,rules:[e.rules.required],label:"Адрес, без города",name:"address",counter:""},model:{value:e.fields.address.value,callback:function(t){e.$set(e.fields.address,"value",t)},expression:"fields.address.value"}})],1)]),r("div",{staticClass:"phone-field"},[r("div",{staticClass:"phone-field-label subtitle-2 mb-2"},[e._v("Телефон")]),r("div",{staticClass:"phone-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.phone.errors,rules:[e.rules.required],label:"Телефон",name:"phone",counter:""},model:{value:e.fields.phone.value,callback:function(t){e.$set(e.fields.phone,"value",t)},expression:"fields.phone.value"}})],1)])]),r("div",{staticClass:"form-btn mb-3"},[r("FormButton",{attrs:{label:"Создать филиал"},on:{onAction:function(t){return e.create()}}})],1),r("div",{staticClass:"form-message"},[e.successHtml?r("v-alert",{attrs:{dense:"",text:"",type:"success"},domProps:{innerHTML:e._s(e.successHtml)}}):e._e()],1)])},n=[],s=(r("99af"),r("3724")),i=r("bf83"),o=r("a287"),c=r("4069"),l={mixins:[s["a"]],components:{FormButton:c["a"]},props:{companyUuid:String},data:function(){return{fields:{city:{value:"",errors:[]},address:{value:"",errors:[]},phone:{value:"",errors:[]}},rules:{required:i["a"].required("Обязательное поле.")}}},computed:{api:function(){return Object(o["b"])(this.companyUuid)}},methods:{afterCreate:function(e){var t=this.$router.resolve({name:"BranchDetail",params:{companyUuid:this.companyUuid,branchUuid:e.uuid}});this.successHtml='\n        Филиал <a href="'.concat(t.href,'">').concat(e.address,"</a> успешно создан.")}}},u=l,d=r("2877"),f=r("6544"),p=r.n(f),v=r("0798"),m=r("4bd4"),h=r("8654"),b=Object(d["a"])(u,a,n,!1,null,null,null);t["a"]=b.exports;p()(b,{VAlert:v["a"],VForm:m["a"],VTextField:h["a"]})},6847:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n})),r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"e",(function(){return o}));var a="onAppError",n="onAppSuccess",s="onOpenConfirm",i="onConfirmresult",o="onReload"},"6aa7":function(e,t,r){"use strict";var a=r("6847"),n=r("2b0e"),s=new n["a"];t["a"]={showErrorAlert:function(e){s.$emit(a["a"],e)},onErrorEvent:function(e){s.$on(a["a"],e)},showSuccessEvent:function(e){s.$emit(a["b"],e)},onSuccessEvent:function(e){s.$on(a["b"],e)},onConfirmAction:function(e,t){s.$on(a["c"],(function(e){s.$off(a["c"]),t(e)})),s.$emit(a["d"],e)},onOpenConfirmAction:function(e){s.$on(a["d"],e)},confirmAction:function(e){s.$emit(a["c"],e)},onReloadEvent:function(e){s.$on(a["e"],e)},offReloadEvent:function(e){s.$off(a["e"],e)},reloadData:function(e){s.$emit(a["e"],e)}}},"6da4":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form"},[r("div",{staticClass:"branch-current mb-2"},[r("h3",{staticClass:"mb-2"},[e._v(e._s(e.currentBranch.city)+", "+e._s(e.currentBranch.address))]),r("div",{staticClass:"body-1"},[e._v("Тел. "+e._s(e.currentBranch.phone))])]),r("div",{staticClass:"branch-field"},[r("div",{staticClass:"branch-field-label subtitle-2 mb-2"},[e._v("Выберите новый филиал")]),r("div",{staticClass:"branch-field-input"},[r("v-select",{attrs:{items:e.branchItems,"item-text":"address","item-value":"uuid",placeholder:e.currentBranch.address,"error-messages":e.fields.branch.errors},model:{value:e.fields.branch.value,callback:function(t){e.$set(e.fields.branch,"value",t)},expression:"fields.branch.value"}})],1)]),r("div",{staticClass:"form-btn"},[r("FormButton",{attrs:{label:"Изменить филиал",inProgress:e.inProgress},on:{onAction:function(t){return e.changeBranch()}}})],1)])},n=[],s=(r("b64b"),r("b85c")),i=(r("96cf"),r("1da1")),o=r("a287"),c=r("6aa7"),l=r("5e4e"),u=r("c167"),d=r("4069"),f={mixins:[l["a"]],components:{FormButton:d["a"]},props:{currentBranch:Object,companyUuid:String,employeeUuid:String},data:function(){return{fields:{branch:{value:this.currentBranch.uuid,errors:[]}},branchList:[],inProgress:!1}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getBranches();case 2:e.branchList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},watch:{currentBranch:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getBranches();case 2:e.branchList=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},computed:{api:function(){return Object(o["f"])(this.companyUuid,this.currentBranch.uuid)},branchItems:function(){var e,t=[],r=Object(s["a"])(this.branchList);try{for(r.s();!(e=r.n()).done;){var a=e.value;a.uuid!==this.currentBranch.uuid&&t.push({address:a.address,uuid:a.uuid})}}catch(n){r.e(n)}finally{r.f()}return t}},methods:{getBranches:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o["b"])(e.companyUuid).list("works");case 3:r=t.sent,t.next=10;break;case 6:throw t.prev=6,t.t0=t["catch"](0),c["a"].showErrorAlert(t.t0.message),t.t0;case 10:if(!Array.isArray(r.data)){t.next=14;break}return t.abrupt("return",r.data);case 14:a="Не удалось загрузить список филталов.",c["a"].showErrorAlert(a),console.log("Не удалось загрузить список филиалов. Получен ответ ".concat(r));case 17:case"end":return t.stop()}}),t,null,[[0,6]])})))()},changeBranch:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.validate()){t.next=17;break}return e.inProgress=!0,r=e.getAsFormData(),t.prev=3,t.next=6,e.api.changeBranch(e.employeeUuid,r);case 6:t.next=12;break;case 8:if(t.prev=8,t.t0=t["catch"](3),t.t0 instanceof u["b"])for(a=0,n=Object.keys(t.t0.data);a<n.length;a++)s=n[a],e.setErrorMessages(s,t.t0.data[s]);else c["a"].showErrorAlert(t.t0.message);throw t.t0;case 12:return t.prev=12,e.inProgress=!1,t.finish(12);case 15:c["a"].showSuccessEvent("Данные изменены!"),e.$router.push({name:"EmployeeDetail",params:{companyUuid:e.companyUuid,branchUuid:e.fields.branch.value,employeeUuid:e.employeeUuid}});case 17:case"end":return t.stop()}}),t,null,[[3,8,12,15]])})))()}}},p=f,v=r("2877"),m=r("6544"),h=r.n(m),b=r("4bd4"),g=r("b974"),w=Object(v["a"])(p,a,n,!1,null,null,null);t["a"]=w.exports;h()(w,{VForm:b["a"],VSelect:g["a"]})},7:function(e,t){},8:function(e,t){},"83a1":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ListTable",{attrs:{headers:e.headers,items:e.items},on:{onToArchiveItem:e.toAchiveBranch,onToWorkItem:e.toWorkBranch,onDeleteItem:e.deleteBranch},scopedSlots:e._u([{key:"itemLink",fn:function(t){var a=t.item;return[r("div",{staticClass:"detail-link body-2"},[r("router-link",{attrs:{to:{name:"BranchDetail",params:{companyUuid:e.companyUuid,branchUuid:a.uuid}}}},[e._v(e._s(a.linkText))])],1)]}}])})},n=[],s=(r("96cf"),r("1da1")),i=r("b85c"),o=r("f414"),c=r("da39"),l=r("ddc2"),u=r("a287"),d=r("6aa7"),f={mixins:[c["a"]],components:{ListTable:l["a"]},props:{branchList:Array,companyUuid:String},data:function(){return{headers:[{text:"Адрес",value:"linkText"},{text:"Действия",value:"actions",sortable:!1}]}},computed:{items:function(){var e,t=[],r=Object(i["a"])(this.branchList);try{for(r.s();!(e=r.n()).done;){var a=e.value;t.push({linkText:a.address,status:o["a"][a.status],uuid:a.uuid})}}catch(n){r.e(n)}finally{r.f()}return t},api:function(){return Object(u["b"])(this.companyUuid)}},methods:{toAchiveBranch:function(e){var t=this,r="Вы действительно хотите перевести в архив филиал?\n      В этом случае все работники филиала также будут переведены в архив.",a={message:r};d["a"].onConfirmAction(a,function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(a){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!a){r.next=12;break}return r.prev=1,r.next=4,t.api.toArchive(e.uuid,!0);case 4:r.next=10;break;case 6:throw r.prev=6,r.t0=r["catch"](1),d["a"].showErrorAlert(r.t0.message),r.t0;case 10:d["a"].showSuccessEvent("Филиал переведен в архив."),t.$emit("onReload");case 12:case"end":return r.stop()}}),r,null,[[1,6]])})));return function(e){return r.apply(this,arguments)}}())},toWorkBranch:function(e){var t=this,r={message:"Вы действительно хотите вернуть филиал в работу?"};d["a"].onConfirmAction(r,function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(a){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!a){r.next=12;break}return r.prev=1,r.next=4,t.api.toWork(e.uuid);case 4:r.next=10;break;case 6:throw r.prev=6,r.t0=r["catch"](1),d["a"].showErrorAlert(r.t0.message),r.t0;case 10:d["a"].showSuccessEvent("Филиал в работе."),t.$emit("onReload");case 12:case"end":return r.stop()}}),r,null,[[1,6]])})));return function(e){return r.apply(this,arguments)}}())},deleteBranch:function(e){var t=this,r={message:"Вы действительно хотите удалить филиал ".concat(e.address,"?")};d["a"].onConfirmAction(r,function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(a){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!a){r.next=12;break}return r.prev=1,r.next=4,t.api.delete(e.uuid);case 4:r.next=10;break;case 6:throw r.prev=6,r.t0=r["catch"](1),d["a"].showErrorAlert(r.t0.message),r.t0;case 10:d["a"].showSuccessEvent("Филиал удален!"),t.$emit("onReload");case 12:case"end":return r.stop()}}),r,null,[[1,6]])})));return function(e){return r.apply(this,arguments)}}())}}},p=f,v=r("2877"),m=Object(v["a"])(p,a,n,!1,null,null,null);t["a"]=m.exports},"8c47":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form"},[r("div",{staticClass:"position-current mb-2"},[r("h3",{staticClass:"mb-2"},[e._v(e._s(e.currentPosition.title))])]),r("div",{staticClass:"position-field"},[r("div",{staticClass:"position-field-label subtitle-2 mb-2"},[e._v("Выберите новую должность")]),r("div",{staticClass:"position-field-input"},[r("v-select",{attrs:{items:e.positionItems,"item-text":"title","item-value":"uuid",placeholder:e.currentPosition.title,"error-messages":e.fields.position.errors},model:{value:e.fields.position.value,callback:function(t){e.$set(e.fields.position,"value",t)},expression:"fields.position.value"}})],1)]),r("div",{staticClass:"form-btn"},[r("FormButton",{attrs:{label:"Изменить должность",inProgress:e.inProgress},on:{onAction:function(t){return e.changePosition()}}})],1)])},n=[],s=(r("b64b"),r("b85c")),i=(r("96cf"),r("1da1")),o=r("a287"),c=r("6aa7"),l=r("6847"),u=r("5e4e"),d=r("c167"),f=r("4069"),p={mixins:[u["a"]],components:{FormButton:f["a"]},props:{currentPosition:Object,companyUuid:String,branchUuid:String,employeeUuid:String},data:function(){return{fields:{position:{value:this.currentPosition.uuid,errors:[]}},positionList:[],inProgress:!1}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getPositions();case 2:e.positionList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},computed:{api:function(){return Object(o["f"])(this.companyUuid,this.branchUuid)},positionItems:function(){var e,t=[],r=Object(s["a"])(this.positionList);try{for(r.s();!(e=r.n()).done;){var a=e.value;a.uuid!==this.currentPosition.uuid&&t.push({title:a.title,uuid:a.uuid})}}catch(n){r.e(n)}finally{r.f()}return t}},methods:{getPositions:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["g"])().list("works");case 3:t=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e["catch"](0),c["a"].showErrorAlert(e.t0.message),e.t0;case 10:if(!Array.isArray(t.data)){e.next=14;break}return e.abrupt("return",t.data);case 14:r="Не удалось загрузить список должностей.",c["a"].showErrorAlert(r),console.log("Не удалось загрузить список должностей. Получен ответ ".concat(t));case 17:case"end":return e.stop()}}),e,null,[[0,6]])})))()},changePosition:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.validate()){t.next=17;break}return e.inProgress=!0,r=e.getAsFormData(),t.prev=3,t.next=6,e.api.changePosition(e.employeeUuid,r);case 6:t.next=12;break;case 8:if(t.prev=8,t.t0=t["catch"](3),t.t0 instanceof d["b"])for(a=0,n=Object.keys(t.t0.data);a<n.length;a++)s=n[a],e.setErrorMessages(s,t.t0.data[s]);else c["a"].showErrorAlert(t.t0.message);throw t.t0;case 12:return t.prev=12,e.inProgress=!1,t.finish(12);case 15:c["a"].showSuccessEvent("Данные изменены!"),e.$emit(l["e"]);case 17:case"end":return t.stop()}}),t,null,[[3,8,12,15]])})))()}}},v=p,m=r("2877"),h=r("6544"),b=r.n(h),g=r("4bd4"),w=r("b974"),x=Object(m["a"])(v,a,n,!1,null,null,null);t["a"]=x.exports;b()(x,{VForm:g["a"],VSelect:w["a"]})},"8d9c":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("StatusForm",{attrs:{currentStatus:e.branchStatus},on:{onToArchive:function(t){return e.toArchive()},onToWork:function(t){return e.toWork()}}})},n=[],s=(r("96cf"),r("1da1")),i=r("6aa7"),o=r("fc9d"),c=r("a287"),l={components:{StatusForm:o["a"]},props:{companyUuid:String,branchUuid:String,branchStatus:String},data:function(){return{}},computed:{api:function(){return Object(c["b"])(this.companyUuid)}},methods:{toArchive:function(){var e=this,t="Вы действительно хотите перевести в архив филиал?\n      В этом случае все работники филиала также будут переведены в архив.",r={message:t};i["a"].onConfirmAction(r,function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=12;break}return t.prev=1,t.next=4,e.api.toArchive(e.branchUuid,!0);case 4:t.next=10;break;case 6:throw t.prev=6,t.t0=t["catch"](1),i["a"].showErrorAlert(t.t0.message),t.t0;case 10:i["a"].showSuccessEvent("Филиал переведен в архив."),e.$emit("onReload");case 12:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}())},toWork:function(){var e=this,t={message:"Вы действительно хотите вернуть филиал в работу?"};i["a"].onConfirmAction(t,function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=12;break}return t.prev=1,t.next=4,e.api.toWork(e.branchUuid);case 4:t.next=10;break;case 6:throw t.prev=6,t.t0=t["catch"](1),i["a"].showErrorAlert(t.t0.message),t.t0;case 10:i["a"].showSuccessEvent("Филиал в работе."),e.$emit("onReload");case 12:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}())}}},u=l,d=r("2877"),f=Object(d["a"])(u,a,n,!1,null,null,null);t["a"]=f.exports},9:function(e,t){},9860:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form"},[r("div",{staticClass:"form-fields"},[r("div",{staticClass:"fio-field"},[r("div",{staticClass:"fio-field-label subtitle-2 mb-2"},[e._v("ФИО работника")]),r("div",{staticClass:"fio-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.fio.errors,rules:[e.rules.required],label:"ФИО работника",name:"fio",counter:""},model:{value:e.fields.fio.value,callback:function(t){e.$set(e.fields.fio,"value",t)},expression:"fields.fio.value"}})],1)]),r("div",{staticClass:"date_of_birth-field"},[r("div",{staticClass:"date_of_birth-field-label subtitle-2 mb-2"},[e._v("Дата рождения")]),r("div",{staticClass:"date_of_birth-field-input"},[r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[r("v-text-field",e._g(e._b({attrs:{"error-messages":e.fields.date_of_birth.errors,label:"Дата рождения","prepend-icon":"fa-calendar",readonly:""},model:{value:e.fields.date_of_birth.value,callback:function(t){e.$set(e.fields.date_of_birth,"value",t)},expression:"fields.date_of_birth.value"}},"v-text-field",n,!1),a))]}}]),model:{value:e.dateOfBirthMenu,callback:function(t){e.dateOfBirthMenu=t},expression:"dateOfBirthMenu"}},[r("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.fields.date_of_birth.value,callback:function(t){e.$set(e.fields.date_of_birth,"value",t)},expression:"fields.date_of_birth.value"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Закрыть ")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.date)}}},[e._v(" OK ")])],1)],1)],1)]),r("div",{staticClass:"pasport-field"},[r("div",{staticClass:"pasport-field-label subtitle-2 mb-2"},[e._v("Паспортные данные")]),r("div",{staticClass:"pasport-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.pasport.errors,rules:[e.rules.required],label:"Паспортные данные",name:"pasport",counter:""},model:{value:e.fields.pasport.value,callback:function(t){e.$set(e.fields.pasport,"value",t)},expression:"fields.pasport.value"}})],1)]),r("div",{staticClass:"pasport_scan-field"},[r("div",{staticClass:"pasport_scan-field-label subtitle-2"},[e._v("Скан паспорта")]),r("div",{staticClass:"pasport_scan-field-input"},[r("v-file-input",{attrs:{"error-messages":e.fields.pasport_scan.errors,accept:".jpeg, .jpg, .pdf, .zip",label:"Скан паспорта",name:"pasport_scan",rules:[e.rules.required]},model:{value:e.fields.pasport_scan.value,callback:function(t){e.$set(e.fields.pasport_scan,"value",t)},expression:"fields.pasport_scan.value"}})],1),e.passportScanDownload?r("div",{staticClass:"pasport_scan-field-download caption"},[r("a",{attrs:{href:e.passportScanDownload,download:""}},[e._v(e._s(e.fields.pasport_scan.value))])]):e._e()])]),r("div",{staticClass:"form-btn"},[r("FormButton",{attrs:{inProgress:e.inProgress,label:"Обновить информацию"},on:{onAction:function(t){return e.update()}}})],1)])},n=[],s=(r("b64b"),r("96cf"),r("1da1")),i=r("bf83"),o=r("5e4e"),c=r("a287"),l=r("6aa7"),u=r("c167"),d=r("4069"),f={mixins:[o["a"]],components:{FormButton:d["a"]},props:{companyUuid:String,branchUuid:String,employeeUuid:String},data:function(){return{fields:{fio:{value:"",errors:[]},date_of_birth:{value:"",errors:[]},pasport:{value:"",errors:[]},pasport_scan:{value:"",errors:[]}},rules:{required:i["a"].required("Обязательное поле.")},positionList:[],dateOfBirthMenu:!1}},computed:{api:function(){return Object(c["f"])(this.companyUuid,this.branchUuid)},passportScanDownload:function(){var e=this.fields.pasport_scan.value;return e&&"string"===typeof e?e:null}},methods:{update:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.validate()){t.next=16;break}return e.inProgress=!0,r=e.getAsFormData(),t.prev=3,t.next=6,e.api.update(e.employeeUuid,r);case 6:t.next=12;break;case 8:if(t.prev=8,t.t0=t["catch"](3),t.t0 instanceof u["b"])for(a=0,n=Object.keys(t.t0.data);a<n.length;a++)s=n[a],e.setErrorMessages(s,t.t0.data[s]);else l["a"].showErrorAlert(t.t0.message);throw t.t0;case 12:return t.prev=12,e.inProgress=!1,t.finish(12);case 15:l["a"].showSuccessEvent("Данные изменены!");case 16:case"end":return t.stop()}}),t,null,[[3,8,12,15]])})))()},cleanFields:function(e){return e.pasport_scan instanceof File||delete e.pasport_scan,e}}},p=f,v=r("2877"),m=r("6544"),h=r.n(m),b=r("8336"),g=r("2e4b"),w=r("23a7"),x=r("4bd4"),k=r("e449"),y=r("2fa4"),_=r("8654"),C=Object(v["a"])(p,a,n,!1,null,null,null);t["a"]=C.exports;h()(C,{VBtn:b["a"],VDatePicker:g["a"],VFileInput:w["a"],VForm:x["a"],VMenu:k["a"],VSpacer:y["a"],VTextField:_["a"]})},"9b74":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form"},[r("div",{staticClass:"city-field d-flex flex-column mb-3"},[r("div",{staticClass:"city-field-label subtitle-2 mb-2"},[e._v("Город")]),r("div",{staticClass:"city-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.city.errors,label:"Город"},model:{value:e.fields.city.value,callback:function(t){e.$set(e.fields.city,"value",t)},expression:"fields.city.value"}})],1)]),r("div",{staticClass:"address-field d-flex flex-column mb-3"},[r("div",{staticClass:"address-field-label subtitle-2 mb-2"},[e._v("Адрес, без города")]),r("div",{staticClass:"address-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.address.errors,label:"Адрес, без города"},model:{value:e.fields.address.value,callback:function(t){e.$set(e.fields.address,"value",t)},expression:"fields.address.value"}})],1)]),r("div",{staticClass:"phone-field d-flex flex-column mb-3"},[r("div",{staticClass:"phone-field-label subtitle-2 mb-2"},[e._v("Телефон")]),r("div",{staticClass:"phone-field-input"},[r("v-text-field",{attrs:{"error-messages":e.fields.phone.errors,label:"Телефон"},model:{value:e.fields.phone.value,callback:function(t){e.$set(e.fields.phone,"value",t)},expression:"fields.phone.value"}})],1)]),r("div",{staticClass:"form-btn"},[r("FormButton",{attrs:{label:"Обновить информацию"},on:{onAction:function(t){return e.updateBranchInfo()}}})],1)])},n=[],s=(r("b64b"),r("96cf"),r("1da1")),i=r("5e4e"),o=r("a287"),c=r("6aa7"),l=r("c167"),u=r("4069"),d={mixins:[i["a"]],components:{FormButton:u["a"]},props:{companyUuid:String,branchUuid:String},data:function(){return{fields:{city:{value:"",errors:[]},address:{value:"",errors:[]},phone:{value:"",errors:[]}}}},computed:{api:function(){return Object(o["b"])(this.companyUuid)}},methods:{updateBranchInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.validate()){t.next=12;break}return r=e.getAsFormData(),t.prev=2,t.next=5,e.api.update(e.branchUuid,r);case 5:t.next=11;break;case 7:if(t.prev=7,t.t0=t["catch"](2),t.t0 instanceof l["b"])for(a=0,n=Object.keys(t.t0.data);a<n.length;a++)s=n[a],e.setErrorMessages(s,t.t0.data[s]);else c["a"].showErrorAlert(t.t0.message);throw t.t0;case 11:c["a"].showSuccessEvent("Данные изменены!");case 12:case"end":return t.stop()}}),t,null,[[2,7]])})))()}}},f=d,p=r("2877"),v=r("6544"),m=r.n(v),h=r("4bd4"),b=r("8654"),g=Object(p["a"])(f,a,n,!1,null,null,null);t["a"]=g.exports;m()(g,{VForm:h["a"],VTextField:b["a"]})},a287:function(e,t,r){"use strict";r.d(t,"c",(function(){return y})),r.d(t,"b",(function(){return _})),r.d(t,"f",(function(){return C})),r.d(t,"g",(function(){return O})),r.d(t,"d",(function(){return j})),r.d(t,"e",(function(){return A})),r.d(t,"a",(function(){return E}));r("99af");var a=r("45eb"),n=r("7e84"),s=r("262e"),i=r("2caf"),o=(r("96cf"),r("1da1")),c=r("d4ec"),l=r("bee2"),u=r("bc3a"),d=r.n(u),f=r("db49"),p=d.a.create({baseURL:"http://".concat(f["a"].apiRoot)});p.defaults.xsrfCookieName="csrftoken",p.defaults.xsrfHeaderName="X-CSRFToken";var v=p,m=r("c167"),h={checkHttpError:function(e){var t;return t=e.response?new m["b"](e):e.request?new m["a"](e):new m["c"](e),t}},b=function(){function e(t){Object(c["a"])(this,e),this.endpoint=t}return Object(l["a"])(e,[{key:"list",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("".concat(this.endpoint,"/"));case 3:t=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),h.checkHttpError(e.t0);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"detail",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("".concat(this.endpoint,"/").concat(t,"/"));case 3:r=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),h.checkHttpError(e.t0);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"create",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"multipart/form-data"},e.prev=1,e.next=4,v.post("".concat(this.endpoint,"/"),t,{headers:a});case 4:r=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),h.checkHttpError(e.t0);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={"Content-Type":"multipart/form-data"},e.prev=1,e.next=4,v.patch("".concat(this.endpoint,"/").concat(t,"/"),r,{headers:n});case 4:a=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),h.checkHttpError(e.t0);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.delete("".concat(this.endpoint,"/").concat(t,"/"));case 3:r=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),h.checkHttpError(e.t0);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toArchive",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]&&s[1],n={"Content-Type":"application/json"},e.prev=2,e.next=5,v.patch("".concat(this.endpoint,"/").concat(t,"/to_archive/"),{force:r},{headers:n});case 5:a=e.sent,e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](2),h.checkHttpError(e.t0);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this,[[2,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toWork",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.patch("".concat(this.endpoint,"/").concat(t,"/to_work/"));case 3:r=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),h.checkHttpError(e.t0);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),g=function(e){Object(s["a"])(r,e);var t=Object(i["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return Object(l["a"])(r,[{key:"changePosition",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={"Content-Type":"multipart/form-data"},e.prev=1,e.next=4,v.patch("".concat(this.endpoint,"/").concat(t,"/change_position/"),r,{headers:n});case 4:a=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),h.checkHttpError(e.t0);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"changeBranch",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={"Content-Type":"multipart/form-data"},e.prev=1,e.next=4,v.patch("".concat(this.endpoint,"/").concat(t,"/change_branch/"),r,{headers:n});case 4:a=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),h.checkHttpError(e.t0);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()}]),r}(b),w=function(e){Object(s["a"])(r,e);var t=Object(i["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return Object(l["a"])(r,[{key:"list",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:null,t){e.next=3;break}return e.abrupt("return",Object(a["a"])(Object(n["a"])(r.prototype),"list",this).call(this));case 3:return e.prev=3,e.next=6,v.get("".concat(this.endpoint,"/?status=").concat(t));case 6:s=e.sent,e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](3),h.checkHttpError(e.t0);case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}()}]),r}(b),x=function(e){Object(s["a"])(r,e);var t=Object(i["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return Object(l["a"])(r,[{key:"list",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:null,t){e.next=3;break}return e.abrupt("return",Object(a["a"])(Object(n["a"])(r.prototype),"list",this).call(this));case 3:return e.prev=3,e.next=6,v.get("".concat(this.endpoint,"/?status=").concat(t));case 6:s=e.sent,e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](3),h.checkHttpError(e.t0);case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}()}]),r}(b),k=function(e){Object(s["a"])(r,e);var t=Object(i["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return Object(l["a"])(r,[{key:"activate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.patch("".concat(this.endpoint,"/").concat(t,"/activate/"));case 3:r=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),h.checkHttpError(e.t0);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.patch("".concat(this.endpoint,"/").concat(t,"/deactivate/"));case 3:r=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),h.checkHttpError(e.t0);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"changePassword",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={"Content-Type":"multipart/form-data"},e.prev=1,e.next=4,v.patch("".concat(this.endpoint,"/").concat(t,"/change_password/"),r,{headers:n});case 4:a=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](1),h.checkHttpError(e.t0);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()}]),r}(b);function y(){var e="/companies";return new b(e)}function _(e){var t="/companies/".concat(e,"/branches");return new w(t)}function C(e,t){var r="/companies/".concat(e,"/branches/").concat(t,"/employees");return new g(r)}function O(){var e="/positions";return new x(e)}function j(){var e="/accounts/companies";return new k(e)}function A(){var e="/accounts/employees";return new k(e)}function E(){var e="/accounts/admins";return new k(e)}},a9e30:function(e,t,r){"use strict";t["a"]={company:["company","Юр.лицо"],employee:["employee","Работник"],admin:["admin","Администратор"]}},aadc:function(e,t,r){"use strict";var a=r("a287"),n=r("a9e30");t["a"]={props:{accountRole:String},computed:{api:function(){if(this.accountRole===n["a"].company[0])return Object(a["d"])();if(this.accountRole===n["a"].employee[0])return Object(a["e"])();if(this.accountRole===n["a"].admin[0])return Object(a["a"])();throw Error("Не определена роль учетной записи.")}}}},bf83:function(e,t,r){"use strict";t["a"]={required:function(e){return function(t){return!!t||(e||!1)}},minLength:function(e,t){return function(r){return!(r.length<=e)||(t||!1)}},maxLength:function(e,t){return function(r){return!(r.length>e)||(t||!1)}},emailMatch:function(e){return function(t){var r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return!!r.test(t)||(e||!1)}},regexpMatch:function(e,t){return function(r){return!!e.test(r)||(t||!1)}}}},c167:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return u}));r("b0c0");var a=r("d4ec"),n=r("262e"),s=r("2caf"),i=r("9072"),o=(Error,function(e){Object(n["a"])(r,e);var t=Object(s["a"])(r);function r(e){var n;return Object(a["a"])(this,r),n=t.call(this,e),n.name="HttpError",n}return r}(Object(i["a"])(Error))),c=function(e){Object(n["a"])(r,e);var t=Object(s["a"])(r);function r(e){var n;return Object(a["a"])(this,r),n=t.call(this,"Сервер вернул ошибку! Повторите попытку чуть позже..."),n.name="ServerError",n.error=e,n.data=e.response.data,n}return r}(o),l=function(e){Object(n["a"])(r,e);var t=Object(s["a"])(r);function r(e){var n;return Object(a["a"])(this,r),n=t.call(this,"Упс! Возникла ошибка, возможно, нет соединения с интернетом..."),n.name="RequestError",n.error=e,n}return r}(o),u=function(e){Object(n["a"])(r,e);var t=Object(s["a"])(r);function r(e){var n;return Object(a["a"])(this,r),n=t.call(this,"Упс! Возникла какая то ошибка, повторите попытку чуть позже..."),n.name="SettingRequestError",n.error=e,n}return r}(o)},da39:function(e,t,r){"use strict";var a=r("f414");t["a"]={methods:{getStatusClasses:function(e){if(e.status==a["a"].archived)return"archive"}}}},db49:function(e,t,r){"use strict";t["a"]={apiRoot:"127.0.0.1:8000/api/v1",adminBaseUrl:"/dashboards/admin/",companyBaseUrl:"/dashboards/company/",userUuidCookie:"USER_UUID",profileUuidCookie:"PROFILE_UUID"}},ddc2:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-data-table",{attrs:{headers:e.headers,items:e.items,"item-class":e.getStatusClasses,"sort-by":e.status,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var a=t.item;return[r("div",{staticClass:"action-icons d-flex"},[r("div",{staticClass:"status-btn mr-1"},[a.status==e.statuses.works?r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"primary","x-small":"",fab:""},on:{click:function(t){return e.toArchiveItem(a)}}},"v-btn",s,!1),n),[r("v-icon",{attrs:{small:""}},[e._v("fa-archive")])],1)]}}],null,!0)},[e._v(" В архив ")]):r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"primary","x-small":"",fab:""},on:{click:function(t){return e.toWorkItem(a)}}},"v-btn",s,!1),n),[r("v-icon",{attrs:{small:""}},[e._v("fa-briefcase")])],1)]}}],null,!0)},[e._v(" В работу ")])],1),r("div",{staticClass:"delete-btn"},[r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"primary","x-small":"",fab:""},on:{click:function(t){return e.deleteItem(a)}}},"v-btn",s,!1),n),[r("v-icon",{attrs:{small:""}},[e._v("fa-trash-alt")])],1)]}}],null,!0)},[e._v(" Удалить ")])],1)])]}},{key:"item.linkText",fn:function(t){var r=t.item;return[e._t("itemLink",null,{item:r})]}}],null,!0)})},n=[],s=r("da39"),i=r("f414"),o={mixins:[s["a"]],props:{headers:Array,items:Array,search:String},data:function(){return{statuses:i["a"]}},methods:{toArchiveItem:function(e){this.$emit("onToArchiveItem",e)},toWorkItem:function(e){this.$emit("onToWorkItem",e)},deleteItem:function(e){this.$emit("onDeleteItem",e)}}},c=o,l=r("2877"),u=r("6544"),d=r.n(u),f=r("8336"),p=r("8fea"),v=r("132d"),m=r("3a2f"),h=Object(l["a"])(c,a,n,!1,null,null,null);t["a"]=h.exports;d()(h,{VBtn:f["a"],VDataTable:p["a"],VIcon:v["a"],VTooltip:m["a"]})},e7e0:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("a1d0"),n=r.n(a);function s(){var e="",t=/(?=.*[0-9])(?=.*[a-zA-Z!@#$%^&*])/;while(!t.test(e))e=n()(8,!1,/[\d\W\w\p]/);return e}},f414:function(e,t,r){"use strict";t["a"]={works:"Работает",archived:"В архиве"}},f719:function(e,t,r){"use strict";t["a"]={data:function(){return{showAlert:!1,message:"",timeout:5e3}},methods:{open:function(e){this.message=e,this.showAlert=!0},close:function(){this.showAlert=!1}}}},fc9d:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form"},[r("div",{staticClass:"status-info mb-2"},[r("h3",{staticClass:"mb-2"},[e._v("Текущий статус")]),"works"==e.currentStatus?r("span",[r("v-btn",{attrs:{color:"primary","x-small":"",fab:""}},[r("v-icon",{attrs:{small:""}},[e._v("fa-briefcase")])],1),e._v(" - В работе ")],1):r("span",[r("v-btn",{attrs:{color:"primary","x-small":"",fab:""}},[r("v-icon",{attrs:{small:""}},[e._v("fa-archive")])],1),e._v(" - В архиве ")],1)]),r("div",{staticClass:"form-btn"},["works"==e.currentStatus?r("div",{staticClass:"form-btn-toWork"},[r("v-btn",{attrs:{color:"primary",small:"",block:""},on:{click:function(t){return e.toArchive()}}},[r("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("fa-archive")]),e._v(" Перевести в архив ")],1)],1):r("div",{staticClass:"form-btn-toArchive"},[r("v-btn",{attrs:{color:"primary",small:"",block:""},on:{click:function(t){return e.toWork()}}},[r("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("fa-briefcase")]),e._v(" Перевести в работу ")],1)],1)])])},n=[],s={props:{currentStatus:String},methods:{toArchive:function(){this.$emit("onToArchive")},toWork:function(){this.$emit("onToWork")}}},i=s,o=r("2877"),c=r("6544"),l=r.n(c),u=r("8336"),d=r("4bd4"),f=r("132d"),p=Object(o["a"])(i,a,n,!1,null,null,null);t["a"]=p.exports;l()(p,{VBtn:u["a"],VForm:d["a"],VIcon:f["a"]})}}]);
//# sourceMappingURL=chunk-common.js.map